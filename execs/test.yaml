metadata:
  name: Montjoie tests
  format: "Lava-Test-Shell Test Definition 1.0"
  description: "Montjoie test"
  version: 1.0
run:
    steps:
      - echo "Misc tests"
      - chmod +x ./misc.sh
      - ./misc.sh
      - echo "Network tests"
      - chmod +x ./network.sh
      - ./network.sh
      - echo "IPSEC tests"
      - lava-test-set start test-ipsec
      - chmod +x ./ipsec.sh
      - ./ipsec.sh
      - lava-test-set stop
      - echo "USB tests"
      - chmod +x ./usb.sh
      - ./usb.sh
      - echo "RTC tests"
      - chmod +x ./rtc.sh
      - ./rtc.sh
      - echo "PCI tests"
      - chmod +x ./pci.sh
      - ./pci.sh
      - echo "NFS tests"
      - chmod +x ./nfs.sh
      - ./nfs.sh
      - echo "LUKS tests"
      - lava-test-set start test-luks
      - chmod +x ./luks.sh
      - ./luks.sh
      - lava-test-set stop
      - echo "MMC tests"
      - lava-test-set start test-mmc
      - chmod +x ./mmc.sh
      - ./mmc.sh
      - lava-test-set stop
      - echo "modules tests"
      - lava-test-set start test-modules
      - chmod +x ./modules.sh
      - ./modules.sh
      - lava-test-set stop
